<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/base.css">
    <style>
        body{
            width:400px;
            margin:0 auto;
        }
        .btn{
            width:50%;
            height:30px;
        }
        #box{
            display: none;
            width:100%;
            height:200px;
            background-color:red;
        }
        
    </style>
</head>
<body>
    <button id="btn-show" class="btn">显示</button><button id="btn-hide" class="btn">隐藏</button>
    <div id="box">

    </div>
    <script src="../js/jquery.js"></script>
    <script>
        var silent={

            // show:function($elem){
            //     $elem.html('<p>我要显示了</p>');
            //     $elem.show();
            //     setTimeout(function(){
            //         $elem.html($elem.html()+'<p>我已经显示了</p>')
            //     },1000);
            // }

            // show:function($elem,showCallback,shownCallback){
            //     if(typeof showCallback==='function'){
            //         showCallback();
            //     }
            //     $elem.show();
            //     if(typeof shownCallback==='function'){
            //         shownCallback();
            //     }
            // },
            // hide:function($elem){
            //     $elem.hide();
            // }
            // 发布订阅
            show:function($elem){
                $elem.trigger('show');
                $elem.show();
                $elem.trigger('shown');
            },
            hide:function($elem){
                $elem.trigger('hide');
                $elem.hide();
                $elem.trigger('hidden');
            }
        }
        var $box=$('#box');
        $box.on('show shown hide hidden',function(e){
            console.log(e.type);
        })
        $('#btn-show').on('click',function(){
            silent.show($box);
        });
        $('#btn-hide').on('click',function(){
            silent.hide($box);
        })
    // 
    //    $('#btn-show').on('click',function(){
    //        console.log(1);
    //        silent.show($box,function(){
    //            $box.html('<p>我要显示了</p>');
    //        },function(){
    //            setTimeout(function(){
    //                $box.html($box.html()+'<p>我已经显示了</p>')
    //            },1000);
    //        });
    //    });
    //    $('#btn-hide').on('click',function(){
    //        console.log(1);
    //        silent.hide($box);
    //    });
    </script>
</body>
</html>